function productsShowing(){for(let e=0;e<products_card.length;e++)(0<products_filted_id.length&&products_filted_id.includes(products_card[e].id)||0==products_filted_id.length)&&(products_card[e].style.display="flex")}function show_all_colors(){let e=document.getElementById("filter_color_hidden"),t=document.getElementById("filter_color_text_show"),c=document.getElementById("filter_color_text_hidden");t.style.display="none",c.style.display="flex",e.style.display="block"}function show_less_colors(){let e=document.getElementById("filter_color_hidden"),t=document.getElementById("filter_color_text_show"),c=document.getElementById("filter_color_text_hidden");t.style.display="flex",c.style.display="none",e.style.display="none"}function checkbox_color(c){let d=document.getElementsByClassName("checkfilter-color"),i;for(let t=0;t<d.length;t++){let e=d[t].getAttribute("name");e.split("-")[1]!=c?d[t].checked=!1:d[t].checked&&(i=d[t])}null!=i&&(i.checked?async()=>{let t=[];(await products).forEach(e=>{e.color.includes(c)&&(t.push(`product-card-${e.id}`),products_filted_id.push(`product-card-${e.id}`))}),products_card.forEach(e=>{t.includes(e.id)||(e.style.display="none")})}:async()=>{(await products).forEach(e=>{!e.color.includes(c)||-1<(e=products_filted_id.indexOf(`product-card-${e.id}`))&&products_filted_id.splice(e,1)}),productsShowing(),limitCountProductShowing()})()}function checkbox_range(i){let c=document.getElementsByClassName("checkfilter-range-price"),o;for(let t=0;t<c.length;t++){let e=c[t].getAttribute("name");e.split("-")[1]!=i?c[t].checked=!1:c[t].checked&&(o=c[t])}if(null!=o){let c=0,d=0;"range0"==i?(c=501,d=Number.MAX_VALUE):"range1"==i?(c=0,d=50):"range2"==i?(c=51,d=150):"range3"==i?(c=151,d=300):"range4"==i&&(c=301,d=500),(o.checked?async()=>{let t=[];(await products).forEach(e=>{e.price>=c&&e.price<=d&&(t.push(`product-card-${e.id}`),products_filted_id.push(`product-card-${e.id}`))}),products_card.forEach(e=>{t.includes(e.id)||(e.style.display="none")})}:async()=>{(await products).forEach(e=>{e.price>=c&&e.price<=d&&(-1<(e=products_filted_id.indexOf(`product-card-${e.id}`))&&products_filted_id.splice(e,1))}),productsShowing(),limitCountProductShowing()})()}}function checkbox_size_span(c){let d=document.getElementsByClassName("checkfilter-size"),i;for(let t=0;t<d.length;t++){let e=d[t].getAttribute("name");e.split("-")[1]!=c?d[t].checked=!1:(d[t].checked=!d[t].checked,i=d[t])}(i.checked?async()=>{let t=[];(await products).forEach(e=>{e.size==c&&(t.push(`product-card-${e.id}`),products_filted_id.push(`product-card-${e.id}`))}),products_card.forEach(e=>{t.includes(e.id)||(e.style.display="none")})}:async()=>{(await products).forEach(e=>{e.size!=c||-1<(e=products_filted_id.indexOf(`product-card-${e.id}`))&&products_filted_id.splice(e,1)}),productsShowing(),limitCountProductShowing()})()}function checkbox_size(c){let d=document.getElementsByClassName("checkfilter-size"),i;for(let t=0;t<d.length;t++){let e=d[t].getAttribute("name");e.split("-")[1]!=c?d[t].checked=!1:d[t].checked&&(i=d[t])}null!=i&&(i.checked?async()=>{let t=[];(await products).forEach(e=>{e.size===c&&(t.push(`product-card-${e.id}`),products_filted_id.push(`product-card-${e.id}`))}),products_card.forEach(e=>{t.includes(e.id)||(e.style.display="none")})}:async()=>{(await products).forEach(e=>{e.size!=c||-1<(e=products_filted_id.indexOf(`product-card-${e.id}`))&&products_filted_id.splice(e,1)}),productsShowing(),limitCountProductShowing()})()}
function showFilters(e){let t=document.documentElement;t.style.setProperty("--elements-hidden","none"),"filter"==e?(t.style.setProperty("--select-filter","flex"),t.style.setProperty("--select-ordemenu","none")):"ordermenu"==e&&(t.style.setProperty("--select-ordemenu","flex"),t.style.setProperty("--select-filter","none"))}function checkbox_color_mobile(l){let o=document.getElementsByClassName("checkfilter-color"),c,i=1;for(let t=0;t<o.length;t++){let e=o[t].getAttribute("name");e.split("-")[1]!=l?o[t].checked=!1:(i--,0==i&&(c=o[t]))}(c.checked?async()=>{let t=[];(await products).forEach(e=>{e.color.includes(l)&&(t.push(`product-card-${e.id}`),products_filted_id.push(`product-card-${e.id}`))}),products_card.forEach(e=>{t.includes(e.id)||(e.style.display="none")})}:async()=>{(await products).forEach(e=>{!e.color.includes(l)||-1<(e=products_filted_id.indexOf(`product-card-${e.id}`))&&products_filted_id.splice(e,1)}),productsShowing(),limitCountProductShowing()})()}function checkbox_range_mobile(l){let o=document.getElementsByClassName("checkfilter-range-price"),c,i=1;for(let t=0;t<o.length;t++){let e=o[t].getAttribute("name");e.split("-")[1]!=l?o[t].checked=!1:(i--,0==i&&(c=o[t]))}let s=0,r=0;"range0"==l?(s=501,r=Number.MAX_VALUE):"range1"==l?(s=0,r=50):"range2"==l?(s=51,r=150):"range3"==l?(s=151,r=300):"range4"==l&&(s=301,r=500),(c.checked?async()=>{let t=[];(await products).forEach(e=>{e.price>=s&&e.price<=r&&(t.push(`product-card-${e.id}`),products_filted_id.push(`product-card-${e.id}`))}),products_card.forEach(e=>{t.includes(e.id)||(e.style.display="none")})}:async()=>{(await products).forEach(e=>{e.price>=s&&e.price<=r&&(-1<(e=products_filted_id.indexOf(`product-card-${e.id}`))&&products_filted_id.splice(e,1))}),productsShowing(),limitCountProductShowing()})()}function checkbox_size_mobile(l){let o=document.getElementsByClassName("checkfilter-size"),c,i=1;for(let t=0;t<o.length;t++){let e=o[t].getAttribute("name");e.split("-")[1]!=l?o[t].checked=!1:(i--,0==i&&(c=o[t]))}null!=c&&(c.checked?async()=>{let t=[];(await products).forEach(e=>{e.size===l&&(t.push(`product-card-${e.id}`),products_filted_id.push(`product-card-${e.id}`))}),products_card.forEach(e=>{t.includes(e.id)||(e.style.display="none")})}:async()=>{(await products).forEach(e=>{e.size!=l||-1<(e=products_filted_id.indexOf(`product-card-${e.id}`))&&products_filted_id.splice(e,1)}),productsShowing(),limitCountProductShowing()})()}function selectFilter(e,t){"color"==t?filter_mobile_color_selected=e:"size"==t?filter_mobile_size_selected=e:"range"==t&&(filter_mobile_range_selected=e)}function showHiddenFilters(e){let t=document.getElementsByClassName("filter-group-mobile-hidden"),l=document.getElementsByClassName("product-filter-category-mobile-show"),o=document.getElementsByClassName("filter-group-mobile-button-hidden")[0];var c=l[e].src.split("/");"add_black_24dp.svg"==c[c.length-1]?(t[e-1].style.display="block",o.style.display="flex",l[e].src="./assets/icons/close_black_24dp.svg",quant_filter_mobile_open++):(t[e-1].style.display="none",quant_filter_mobile_open--,0==quant_filter_mobile_open&&(o.style.display="none"),l[e].src="./assets/icons/add_black_24dp.svg")}function closeShowingFilters(e){let t=document.getElementsByClassName("filter-group-mobile-hidden"),l=document.getElementsByClassName("product-filter-category-mobile-show"),o=document.getElementsByClassName("filter-group-mobile-button-hidden")[0];var c=l[e].src.split("/");"close_black_24dp.svg"==c[c.length-1]&&(t[e-1].style.display="none",quant_filter_mobile_open--,0==quant_filter_mobile_open&&(o.style.display="none"),l[e].src="./assets/icons/add_black_24dp.svg")}function closeFilters(e){let t=document.documentElement;t.style.setProperty("--elements-hidden","flex"),"filter"==e?t.style.setProperty("--select-filter","none"):"ordermenu"==e&&t.style.setProperty("--select-ordemenu","none")}function applyFilters(){console.log(filter_mobile_color_selected,filter_mobile_range_selected,filter_mobile_size_selected),""!=filter_mobile_color_selected&&checkbox_color_mobile(filter_mobile_color_selected),""!=filter_mobile_size_selected&&checkbox_size_mobile(filter_mobile_size_selected),""!=filter_mobile_range_selected&&checkbox_range_mobile(filter_mobile_range_selected)}function clearFilters(){let e=document.getElementsByClassName("checkfilter-color"),t=document.getElementsByClassName("checkfilter-size"),l=document.getElementsByClassName("checkfilter-range-price");for(var o=0;o<e.length;o++)e[o].checked=!1;closeShowingFilters(1);for(o=0;o<t.length;o++)t[o].checked=!1;closeShowingFilters(2);for(o=0;o<l.length;o++)l[o].checked=!1;checkbox_color_mobile(filter_mobile_color_selected),checkbox_size_mobile(filter_mobile_size_selected),checkbox_range_mobile(filter_mobile_range_selected),closeShowingFilters(3)}
var products,products_card=[],quant_row_to_show=3,order_cards="",products_filted_id=[],cart=[],quant_products_hidden=0,filter_mobile_color_selected="",filter_mobile_size_selected="",filter_mobile_range_selected="",quant_filter_mobile_open=0;async function loadProducts(){let t=await fetch("http://localhost:3000/clothing");return t.json().then(t=>t)}function showMoreProducts(t){0<quant_products_hidden?(quant_row_to_show+=2,limitCountProductShowing()):t.style.display="none"}function limitCountProductShowing(){(async()=>{let e=1;var t=document.getElementsByClassName("product-grid")[0];const d=window.getComputedStyle(t);t=d.getPropertyValue("grid-template-columns").split(" ").length;let r=quant_row_to_show*t;if(quant_products_hidden=0,products_card.forEach(t=>{r>=e?t.style.display="flex":(t.style.display="none",quant_products_hidden++),e+=1}),0<quant_products_hidden){let t=document.getElementsByClassName("show-more-products")[0];t.style.display="block"}})()}function addProductCart(d){if(!cart.includes(d)){cart.push(d);let t=document.getElementsByClassName("wishlist-counter")[0],e=document.getElementsByClassName("wishlist-counter-text")[0];1==cart.length&&(t.style.opacity=1),e.textContent=cart.length}}function createProductCard(t){let e=document.createElement("div");e.classList.add("product-card-container"),e.setAttribute("id",`product-card-${t.id}`);let d=document.createElement("img");d.src=t.image,e.appendChild(d);let r=document.createElement("span");r.innerHTML=t.title,r.classList.add("product-card-title"),e.appendChild(r);let o=document.createElement("span");o.innerHTML=`R$ ${t.price.toFixed(2).replace(".",",")}`,o.classList.add("product-card-price"),e.appendChild(o);let c=document.createElement("span");c.innerHTML=`até ${t.portion}x de R$${(t.price/t.portion).toFixed(2).replace(".",",")}`,c.classList.add("product-card-portion"),e.appendChild(c);let n=document.createElement("button");return n.innerHTML="COMPRAR",n.classList.add("product-card-buy-button"),n.setAttribute("onclick",`addProductCart("${e.id}")`),e.appendChild(n),e}function updateProductCard(t){let r=document.getElementsByClassName("product-grid")[0];for(;r.firstChild;)r.removeChild(r.lastChild);for(;products_card.length;)products_card.pop();order_cards!=t?(order_cards=t,(async()=>{let e=(await products).slice();"Menor preço"==t.trim()?e=e.sort((t,e)=>t.price<e.price?-1:1):"Maior preço"==t.trim()?e=e.sort((t,e)=>t.price>e.price?-1:1):"Mais recentes"==t.trim()&&(e=e.sort((t,e)=>new Date(t.date)<new Date(e.date)?-1:1));for(let t=0;t<e.length;t++){var d=createProductCard(e[t]);products_card.push(d),r.appendChild(d)}})()):(order_cards="",(async()=>{var e=(await products).slice();for(let t=0;t<e.length;t++){var d=createProductCard(e[t]);products_card.push(d),r.appendChild(d)}})()),(async()=>{0<products_filted_id.length&&(await products_card).forEach(t=>{products_filted_id.includes(t.id)||(t.style.display="none")})})(),limitCountProductShowing()}products=loadProducts(),window.onload=function(){let e=document.getElementById("order-menu-content");(async()=>{var e=await products;let d=document.getElementsByClassName("product-grid")[0];for(let t=0;t<e.length;t++){var r=createProductCard(e[t]);products_card.push(r),d.appendChild(r)}})(),document.onclick=t=>{"order-menu-content"!=t.target.id&&"dropbth"!=t.target.id&&1<e.classList.length&&e.classList.remove("order-dropdown-active")}},window.addEventListener("DOMContentLoaded",limitCountProductShowing),window.addEventListener("resize",limitCountProductShowing);
function order_menu_onclick(){let e=document.getElementById("order-menu-content");1==e.classList.length?e.classList.add("order-dropdown-active"):e.classList.remove("order-dropdown-active")}function order_menu_select_option(e){let t=document.getElementById("order-menu-content");updateProductCard(e.textContent),t.classList.remove("order-dropdown-active")}function order_menu_select_mobile_option(e){updateProductCard(e.textContent)}